{"version":3,"file":"ScreencastView.js","sourceRoot":"","sources":["../../../../../front_end/screencast/ScreencastView.js"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../common/common.js';\nimport * as Host from '../host/host.js';\nimport * as SDK from '../sdk/sdk.js';\nimport * as UI from '../ui/ui.js';\n\nimport {InputModel} from './InputModel.js';\n\n/**\n * @implements {SDK.OverlayModel.Highlighter}\n */\nexport class ScreencastView extends UI.Widget.VBox {\n  /**\n   * @param {!SDK.ScreenCaptureModel.ScreenCaptureModel} screenCaptureModel\n   */\n  constructor(screenCaptureModel) {\n    super();\n    this._screenCaptureModel = screenCaptureModel;\n    this._domModel = screenCaptureModel.target().model(SDK.DOMModel.DOMModel);\n    this._overlayModel = screenCaptureModel.target().model(SDK.OverlayModel.OverlayModel);\n    this._resourceTreeModel = screenCaptureModel.target().model(SDK.ResourceTreeModel.ResourceTreeModel);\n    this._networkManager = screenCaptureModel.target().model(SDK.NetworkManager.NetworkManager);\n    this._inputModel = screenCaptureModel.target().model(InputModel);\n\n    this.setMinimumSize(150, 150);\n    this.registerRequiredCSS('screencast/screencastView.css', {enableLegacyPatching: true});\n\n    this._shortcuts = /** @type {!Object.<number, function(!Event=):boolean>} */ ({});\n    this._scrollOffsetX = 0;\n    this._scrollOffsetY = 0;\n    this._screenZoom = 1;\n    this._screenOffsetTop = 0;\n    this._pageScaleFactor = 1;\n    // These types are guaranteed to be initialized in initialize()\n    // that is invoked right after constructing the object.\n    /** @type {!HTMLImageElement} */\n    this._imageElement;\n    /** @type {!HTMLElement} */\n    this._viewportElement;\n    /** @type {!HTMLElement} */\n    this._glassPaneElement;\n    /** @type {!HTMLCanvasElement} */\n    this._canvasElement;\n    /** @type {!HTMLElement} */\n    this._titleElement;\n    /** @type {!CanvasRenderingContext2D} */\n    this._context;\n    this._imageZoom = 1;\n    /** @type {!HTMLElement} */\n    this._tagNameElement;\n    /** @type {!HTMLElement} */\n    this._attributeElement;\n    /** @type {!HTMLElement} */\n    this._nodeWidthElement;\n    /** @type {!HTMLElement} */\n    this._nodeHeightElement;\n    /** @type {?Protocol.DOM.BoxModel} */\n    this._model;\n    /** @type {?Protocol.Overlay.HighlightConfig} */\n    this._highlightConfig;\n    /** @type {!HTMLInputElement} */\n    this._navigationUrl;\n    /** @type {!HTMLButtonElement} */\n    this._navigationBack;\n    /** @type {!HTMLButtonElement} */\n    this._navigationForward;\n  }\n\n  initialize() {\n    this.element.classList.add('screencast');\n\n    this._createNavigationBar();\n\n    this._viewportElement = /** @type {!HTMLElement} */ (this.element.createChild('div', 'screencast-viewport hidden'));\n    this._canvasContainerElement =\n        /** @type {!HTMLElement} */ (this._viewportElement.createChild('div', 'screencast-canvas-container'));\n    this._glassPaneElement = /** @type {!HTMLElement} */ (\n        this._canvasContainerElement.createChild('div', 'screencast-glasspane fill hidden'));\n\n    this._canvasElement = /** @type {!HTMLCanvasElement} */ (this._canvasContainerElement.createChild('canvas'));\n    UI.ARIAUtils.setAccessibleName(this._canvasElement, ls`Screencast view of debug target`);\n    this._canvasElement.tabIndex = 0;\n    this._canvasElement.addEventListener('mousedown', this._handleMouseEvent.bind(this), false);\n    this._canvasElement.addEventListener('mouseup', this._handleMouseEvent.bind(this), false);\n    this._canvasElement.addEventListener('mousemove', this._handleMouseEvent.bind(this), false);\n    this._canvasElement.addEventListener('mousewheel', this._handleMouseEvent.bind(this), false);\n    this._canvasElement.addEventListener('click', this._handleMouseEvent.bind(this), false);\n    this._canvasElement.addEventListener('contextmenu', this._handleContextMenuEvent.bind(this), false);\n    this._canvasElement.addEventListener('keydown', this._handleKeyEvent.bind(this), false);\n    this._canvasElement.addEventListener('keyup', this._handleKeyEvent.bind(this), false);\n    this._canvasElement.addEventListener('keypress', this._handleKeyEvent.bind(this), false);\n    this._canvasElement.addEventListener('blur', this._handleBlurEvent.bind(this), false);\n\n    this._titleElement = /** @type {!HTMLElement} */ (this._canvasContainerElement.createChild(\n        'div', 'screencast-element-title monospace hidden -theme-not-patched'));\n    this._tagNameElement = /** @type {!HTMLElement} */ (this._titleElement.createChild('span', 'screencast-tag-name'));\n    this._attributeElement =\n        /** @type {!HTMLElement} */ (this._titleElement.createChild('span', 'screencast-attribute'));\n    UI.UIUtils.createTextChild(this._titleElement, ' ');\n    const dimension = /** @type {!HTMLElement} */ (this._titleElement.createChild('span', 'screencast-dimension'));\n    this._nodeWidthElement = /** @type {!HTMLElement} */ (dimension.createChild('span'));\n    UI.UIUtils.createTextChild(dimension, ' × ');\n    this._nodeHeightElement = /** @type {!HTMLElement} */ (dimension.createChild('span'));\n    this._titleElement.style.top = '0';\n    this._titleElement.style.left = '0';\n\n    this._imageElement = new Image();\n    this._isCasting = false;\n    this._context = /** @type {!CanvasRenderingContext2D} */ (this._canvasElement.getContext('2d'));\n    this._checkerboardPattern = this._createCheckerboardPattern(this._context);\n\n\n    this._shortcuts[UI.KeyboardShortcut.KeyboardShortcut.makeKey('l', UI.KeyboardShortcut.Modifiers.Ctrl)] =\n        this._focusNavigationBar.bind(this);\n\n    SDK.SDKModel.TargetManager.instance().addEventListener(\n        SDK.SDKModel.Events.SuspendStateChanged, this._onSuspendStateChange, this);\n    this._updateGlasspane();\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    this._startCasting();\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    this._stopCasting();\n  }\n\n  _startCasting() {\n    if (SDK.SDKModel.TargetManager.instance().allTargetsSuspended()) {\n      return;\n    }\n    if (this._isCasting) {\n      return;\n    }\n    this._isCasting = true;\n\n    const maxImageDimension = 2048;\n    const dimensions = this._viewportDimensions();\n    if (dimensions.width < 0 || dimensions.height < 0) {\n      this._isCasting = false;\n      return;\n    }\n    dimensions.width *= window.devicePixelRatio;\n    dimensions.height *= window.devicePixelRatio;\n    // Note: startScreencast width and height are expected to be integers so must be floored.\n    this._screenCaptureModel.startScreencast(\n        Protocol.Page.StartScreencastRequestFormat.Jpeg, 80, Math.floor(Math.min(maxImageDimension, dimensions.width)),\n        Math.floor(Math.min(maxImageDimension, dimensions.height)), undefined, this._screencastFrame.bind(this),\n        this._screencastVisibilityChanged.bind(this));\n    for (const emulationModel of SDK.SDKModel.TargetManager.instance().models(SDK.EmulationModel.EmulationModel)) {\n      emulationModel.overrideEmulateTouch(true);\n    }\n    if (this._overlayModel) {\n      this._overlayModel.setHighlighter(this);\n    }\n  }\n\n  _stopCasting() {\n    if (!this._isCasting) {\n      return;\n    }\n    this._isCasting = false;\n    this._screenCaptureModel.stopScreencast();\n    for (const emulationModel of SDK.SDKModel.TargetManager.instance().models(SDK.EmulationModel.EmulationModel)) {\n      emulationModel.overrideEmulateTouch(false);\n    }\n    if (this._overlayModel) {\n      this._overlayModel.setHighlighter(null);\n    }\n  }\n\n  /**\n   * @param {string} base64Data\n   * @param {!Protocol.Page.ScreencastFrameMetadata} metadata\n   */\n  _screencastFrame(base64Data, metadata) {\n    this._imageElement.onload = () => {\n      this._pageScaleFactor = metadata.pageScaleFactor;\n      this._screenOffsetTop = metadata.offsetTop;\n      this._scrollOffsetX = metadata.scrollOffsetX;\n      this._scrollOffsetY = metadata.scrollOffsetY;\n\n      const deviceSizeRatio = metadata.deviceHeight / metadata.deviceWidth;\n      const dimensionsCSS = this._viewportDimensions();\n\n      this._imageZoom = Math.min(\n          dimensionsCSS.width / this._imageElement.naturalWidth,\n          dimensionsCSS.height / (this._imageElement.naturalWidth * deviceSizeRatio));\n      this._viewportElement.classList.remove('hidden');\n      const bordersSize = _bordersSize;\n      if (this._imageZoom < 1.01 / window.devicePixelRatio) {\n        this._imageZoom = 1 / window.devicePixelRatio;\n      }\n      this._screenZoom = this._imageElement.naturalWidth * this._imageZoom / metadata.deviceWidth;\n      this._viewportElement.style.width = metadata.deviceWidth * this._screenZoom + bordersSize + 'px';\n      this._viewportElement.style.height = metadata.deviceHeight * this._screenZoom + bordersSize + 'px';\n\n      if (this._highlightNode) {\n        this.highlightInOverlay({node: this._highlightNode, selectorList: undefined}, this._highlightConfig);\n      }\n    };\n    this._imageElement.src = 'data:image/jpg;base64,' + base64Data;\n  }\n\n  _isGlassPaneActive() {\n    return !this._glassPaneElement.classList.contains('hidden');\n  }\n\n  /**\n   * @param {boolean} visible\n   */\n  _screencastVisibilityChanged(visible) {\n    this._targetInactive = !visible;\n    this._updateGlasspane();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onSuspendStateChange(event) {\n    if (SDK.SDKModel.TargetManager.instance().allTargetsSuspended()) {\n      this._stopCasting();\n    } else {\n      this._startCasting();\n    }\n    this._updateGlasspane();\n  }\n\n  _updateGlasspane() {\n    if (this._targetInactive) {\n      this._glassPaneElement.textContent = Common.UIString.UIString('The tab is inactive');\n      this._glassPaneElement.classList.remove('hidden');\n    } else if (SDK.SDKModel.TargetManager.instance().allTargetsSuspended()) {\n      this._glassPaneElement.textContent = Common.UIString.UIString('Profiling in progress');\n      this._glassPaneElement.classList.remove('hidden');\n    } else {\n      this._glassPaneElement.classList.add('hidden');\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  async _handleMouseEvent(event) {\n    if (this._isGlassPaneActive()) {\n      event.consume();\n      return;\n    }\n\n    if (!this._pageScaleFactor || !this._domModel) {\n      return;\n    }\n\n    if (!this._inspectModeConfig || event.type === 'mousewheel') {\n      if (this._inputModel) {\n        this._inputModel.emitTouchFromMouseEvent(event, this._screenOffsetTop, this._screenZoom);\n      }\n      event.preventDefault();\n      if (event.type === 'mousedown') {\n        this._canvasElement.focus();\n      }\n      return;\n    }\n\n    const position = this._convertIntoScreenSpace(/** @type {!MouseEvent} */ (event));\n\n    const node = await this._domModel.nodeForLocation(\n        Math.floor(position.x / this._pageScaleFactor + this._scrollOffsetX),\n        Math.floor(position.y / this._pageScaleFactor + this._scrollOffsetY),\n        Common.Settings.Settings.instance().moduleSetting('showUAShadowDOM').get());\n\n    if (!node) {\n      return;\n    }\n\n    if (event.type === 'mousemove') {\n      this.highlightInOverlay({node, selectorList: undefined}, this._inspectModeConfig);\n      this._domModel.overlayModel().nodeHighlightRequested({nodeId: /** @type {number} */ (node.id)});\n    } else if (event.type === 'click') {\n      this._domModel.overlayModel().inspectNodeRequested({backendNodeId: node.backendNodeId()});\n    }\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _handleKeyEvent(event) {\n    if (this._isGlassPaneActive()) {\n      event.consume();\n      return;\n    }\n\n    const shortcutKey = UI.KeyboardShortcut.KeyboardShortcut.makeKeyFromEvent(/** @type {!KeyboardEvent} */ (event));\n    const handler = this._shortcuts[shortcutKey];\n    if (handler && handler(event)) {\n      event.consume();\n      return;\n    }\n\n    if (this._inputModel) {\n      this._inputModel.emitKeyEvent(event);\n    }\n    event.consume();\n    this._canvasElement.focus();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _handleContextMenuEvent(event) {\n    event.consume(true);\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _handleBlurEvent(event) {\n    if (this._inputModel) {\n      this._inputModel.cancelTouch();\n    }\n  }\n\n  /**\n   * @param {!MouseEvent} event\n   * @return {!{x: number, y: number}}\n   */\n  _convertIntoScreenSpace(event) {\n    const position = {};\n    position.x = Math.round(event.offsetX / this._screenZoom);\n    position.y = Math.round(event.offsetY / this._screenZoom - this._screenOffsetTop);\n    return position;\n  }\n\n  /**\n   * @override\n   */\n  onResize() {\n    if (this._deferredCasting) {\n      clearTimeout(this._deferredCasting);\n      delete this._deferredCasting;\n    }\n\n    this._stopCasting();\n    this._deferredCasting = setTimeout(this._startCasting.bind(this), 100);\n  }\n\n  /**\n   * @override\n   * @param {!SDK.OverlayModel.HighlightData} data\n   * @param {?Protocol.Overlay.HighlightConfig} config\n   */\n  highlightInOverlay(data, config) {\n    this._highlightInOverlay(data, config);\n  }\n\n  /**\n   * @param {!SDK.OverlayModel.HighlightData} data\n   * @param {?Protocol.Overlay.HighlightConfig} config\n   */\n  async _highlightInOverlay(data, config) {\n    /** @type {?SDK.DOMModel.DOMNode} */\n    let node = null;\n    if ('node' in data) {\n      node = data.node;\n    }\n    if (!node && 'deferredNode' in data) {\n      node = await data.deferredNode.resolvePromise();\n    }\n    if (!node && 'object' in data) {\n      const domModel =\n          /** @type {?SDK.DOMModel.DOMModel} */ (data.object.runtimeModel().target().model(SDK.DOMModel.DOMModel));\n      if (domModel) {\n        node = await domModel.pushObjectAsNodeToFrontend(data.object);\n      }\n    }\n\n    this._highlightNode = node;\n    this._highlightConfig = config;\n    if (!node) {\n      this._model = null;\n      this._config = null;\n      this._node = null;\n      this._titleElement.classList.add('hidden');\n      this._repaint();\n      return;\n    }\n\n    this._node = node;\n    node.boxModel().then(model => {\n      if (!model || !this._pageScaleFactor) {\n        this._repaint();\n        return;\n      }\n      this._model = this._scaleModel(model);\n      this._config = config;\n      this._repaint();\n    });\n  }\n\n  /**\n   * @param {!Protocol.DOM.BoxModel} model\n   * @return {!Protocol.DOM.BoxModel}\n   */\n  _scaleModel(model) {\n    /**\n     * @param {!Protocol.DOM.Quad} quad\n     * @this {ScreencastView}\n     */\n    function scaleQuad(quad) {\n      for (let i = 0; i < quad.length; i += 2) {\n        quad[i] = quad[i] * this._pageScaleFactor * this._screenZoom;\n        quad[i + 1] = (quad[i + 1] * this._pageScaleFactor + this._screenOffsetTop) * this._screenZoom;\n      }\n    }\n\n    scaleQuad.call(this, model.content);\n    scaleQuad.call(this, model.padding);\n    scaleQuad.call(this, model.border);\n    scaleQuad.call(this, model.margin);\n    return model;\n  }\n\n  _repaint() {\n    const model = this._model;\n    const config = this._config;\n\n    const canvasWidth = this._canvasElement.getBoundingClientRect().width;\n    const canvasHeight = this._canvasElement.getBoundingClientRect().height;\n    this._canvasElement.width = window.devicePixelRatio * canvasWidth;\n    this._canvasElement.height = window.devicePixelRatio * canvasHeight;\n\n    this._context.save();\n    this._context.scale(window.devicePixelRatio, window.devicePixelRatio);\n\n    // Paint top and bottom gutter.\n    this._context.save();\n    if (this._checkerboardPattern) {\n      this._context.fillStyle = this._checkerboardPattern;\n    }\n    this._context.fillRect(0, 0, canvasWidth, this._screenOffsetTop * this._screenZoom);\n    this._context.fillRect(\n        0, this._screenOffsetTop * this._screenZoom + this._imageElement.naturalHeight * this._imageZoom, canvasWidth,\n        canvasHeight);\n    this._context.restore();\n\n    if (model && config) {\n      this._context.save();\n      const quads = [];\n      /**\n       * @param {!Protocol.DOM.RGBA} color\n       */\n      const isTransparent = color => color.a && color.a === 0;\n      if (model.content && config.contentColor && !isTransparent(config.contentColor)) {\n        quads.push({quad: model.content, color: config.contentColor});\n      }\n      if (model.padding && config.paddingColor && !isTransparent(config.paddingColor)) {\n        quads.push({quad: model.padding, color: config.paddingColor});\n      }\n      if (model.border && config.borderColor && !isTransparent(config.borderColor)) {\n        quads.push({quad: model.border, color: config.borderColor});\n      }\n      if (model.margin && config.marginColor && !isTransparent(config.marginColor)) {\n        quads.push({quad: model.margin, color: config.marginColor});\n      }\n\n      for (let i = quads.length - 1; i > 0; --i) {\n        this._drawOutlinedQuadWithClip(quads[i].quad, quads[i - 1].quad, quads[i].color);\n      }\n      if (quads.length > 0) {\n        this._drawOutlinedQuad(quads[0].quad, quads[0].color);\n      }\n      this._context.restore();\n\n      this._drawElementTitle();\n\n      this._context.globalCompositeOperation = 'destination-over';\n    }\n\n    this._context.drawImage(\n        this._imageElement, 0, this._screenOffsetTop * this._screenZoom,\n        this._imageElement.naturalWidth * this._imageZoom, this._imageElement.naturalHeight * this._imageZoom);\n    this._context.restore();\n  }\n\n  /**\n   * @param {!Protocol.DOM.RGBA} color\n   * @return {string}\n   */\n  _cssColor(color) {\n    if (!color) {\n      return 'transparent';\n    }\n    return Common.Color.Color.fromRGBA([color.r, color.g, color.b, color.a !== undefined ? color.a : 1])\n               .asString(Common.Color.Format.RGBA) ||\n        '';\n  }\n\n  /**\n   * @param {!Protocol.DOM.Quad} quad\n   * @return {!CanvasRenderingContext2D}\n   */\n  _quadToPath(quad) {\n    this._context.beginPath();\n    this._context.moveTo(quad[0], quad[1]);\n    this._context.lineTo(quad[2], quad[3]);\n    this._context.lineTo(quad[4], quad[5]);\n    this._context.lineTo(quad[6], quad[7]);\n    this._context.closePath();\n    return this._context;\n  }\n\n  /**\n   * @param {!Protocol.DOM.Quad} quad\n   * @param {!Protocol.DOM.RGBA} fillColor\n   */\n  _drawOutlinedQuad(quad, fillColor) {\n    this._context.save();\n    this._context.lineWidth = 2;\n    this._quadToPath(quad).clip();\n    this._context.fillStyle = this._cssColor(fillColor);\n    this._context.fill();\n    this._context.restore();\n  }\n\n  /**\n   * @param {!Protocol.DOM.Quad} quad\n   * @param {!Protocol.DOM.Quad} clipQuad\n   * @param {!Protocol.DOM.RGBA} fillColor\n   */\n  _drawOutlinedQuadWithClip(quad, clipQuad, fillColor) {\n    this._context.fillStyle = this._cssColor(fillColor);\n    this._context.save();\n    this._context.lineWidth = 0;\n    this._quadToPath(quad).fill();\n    this._context.globalCompositeOperation = 'destination-out';\n    this._context.fillStyle = 'red';\n    this._quadToPath(clipQuad).fill();\n    this._context.restore();\n  }\n\n  _drawElementTitle() {\n    if (!this._node) {\n      return;\n    }\n\n    const canvasWidth = this._canvasElement.getBoundingClientRect().width;\n    const canvasHeight = this._canvasElement.getBoundingClientRect().height;\n\n    const lowerCaseName = this._node.localName() || this._node.nodeName().toLowerCase();\n    this._tagNameElement.textContent = lowerCaseName;\n\n    this._attributeElement.textContent = getAttributesForElementTitle(this._node);\n    this._nodeWidthElement.textContent = String(this._model ? this._model.width : 0);\n    this._nodeHeightElement.textContent = String(this._model ? this._model.height : 0);\n\n    this._titleElement.classList.remove('hidden');\n    const titleWidth = this._titleElement.offsetWidth + 6;\n    const titleHeight = this._titleElement.offsetHeight + 4;\n\n    const anchorTop = this._model ? this._model.margin[1] : 0;\n    const anchorBottom = this._model ? this._model.margin[7] : 0;\n\n    const arrowHeight = 7;\n    let renderArrowUp = false;\n    let renderArrowDown = false;\n\n    let boxX = Math.max(2, this._model ? this._model.margin[0] : 0);\n    if (boxX + titleWidth > canvasWidth) {\n      boxX = canvasWidth - titleWidth - 2;\n    }\n\n    let boxY;\n    if (anchorTop > canvasHeight) {\n      boxY = canvasHeight - titleHeight - arrowHeight;\n      renderArrowDown = true;\n    } else if (anchorBottom < 0) {\n      boxY = arrowHeight;\n      renderArrowUp = true;\n    } else if (anchorBottom + titleHeight + arrowHeight < canvasHeight) {\n      boxY = anchorBottom + arrowHeight - 4;\n      renderArrowUp = true;\n    } else if (anchorTop - titleHeight - arrowHeight > 0) {\n      boxY = anchorTop - titleHeight - arrowHeight + 3;\n      renderArrowDown = true;\n    } else {\n      boxY = arrowHeight;\n    }\n\n    this._context.save();\n    this._context.translate(0.5, 0.5);\n    this._context.beginPath();\n    this._context.moveTo(boxX, boxY);\n    if (renderArrowUp) {\n      this._context.lineTo(boxX + 2 * arrowHeight, boxY);\n      this._context.lineTo(boxX + 3 * arrowHeight, boxY - arrowHeight);\n      this._context.lineTo(boxX + 4 * arrowHeight, boxY);\n    }\n    this._context.lineTo(boxX + titleWidth, boxY);\n    this._context.lineTo(boxX + titleWidth, boxY + titleHeight);\n    if (renderArrowDown) {\n      this._context.lineTo(boxX + 4 * arrowHeight, boxY + titleHeight);\n      this._context.lineTo(boxX + 3 * arrowHeight, boxY + titleHeight + arrowHeight);\n      this._context.lineTo(boxX + 2 * arrowHeight, boxY + titleHeight);\n    }\n    this._context.lineTo(boxX, boxY + titleHeight);\n    this._context.closePath();\n    this._context.fillStyle = 'rgb(255, 255, 194)';\n    this._context.fill();\n    this._context.strokeStyle = 'rgb(128, 128, 128)';\n    this._context.stroke();\n\n    this._context.restore();\n\n    this._titleElement.style.top = (boxY + 3) + 'px';\n    this._titleElement.style.left = (boxX + 3) + 'px';\n  }\n\n  /**\n   * @return {!{width: number, height: number}}\n   */\n  _viewportDimensions() {\n    const gutterSize = 30;\n    const bordersSize = _bordersSize;\n    const width = this.element.offsetWidth - bordersSize - gutterSize;\n    const height = this.element.offsetHeight - bordersSize - gutterSize - _navBarHeight;\n    return {width: width, height: height};\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Overlay.InspectMode} mode\n   * @param {!Protocol.Overlay.HighlightConfig} config\n   * @return {!Promise<void>}\n   */\n  setInspectMode(mode, config) {\n    this._inspectModeConfig = mode !== Protocol.Overlay.InspectMode.None ? config : null;\n    return Promise.resolve();\n  }\n\n  /**\n   * @override\n   * @param {!Protocol.Page.FrameId} frameId\n   */\n  highlightFrame(frameId) {\n  }\n\n  /**\n   * @param {!CanvasRenderingContext2D} context\n   */\n  _createCheckerboardPattern(context) {\n    const pattern = /** @type {!HTMLCanvasElement} */ (document.createElement('canvas'));\n    const size = 32;\n    pattern.width = size * 2;\n    pattern.height = size * 2;\n    const pctx = /** @type {!CanvasRenderingContext2D} */ (pattern.getContext('2d'));\n\n    pctx.fillStyle = 'rgb(195, 195, 195)';\n    pctx.fillRect(0, 0, size * 2, size * 2);\n\n    pctx.fillStyle = 'rgb(225, 225, 225)';\n    pctx.fillRect(0, 0, size, size);\n    pctx.fillRect(size, size, size, size);\n    return context.createPattern(pattern, 'repeat');\n  }\n\n  _createNavigationBar() {\n    this._navigationBar = /** @type {!HTMLElement} */ (this.element.createChild('div', 'screencast-navigation'));\n    this._navigationBack = /** @type {!HTMLButtonElement} */ (this._navigationBar.createChild('button', 'back'));\n    this._navigationBack.disabled = true;\n    UI.ARIAUtils.setAccessibleName(this._navigationBack, ls`back`);\n    this._navigationForward = /** @type {!HTMLButtonElement} */ (this._navigationBar.createChild('button', 'forward'));\n    this._navigationForward.disabled = true;\n    UI.ARIAUtils.setAccessibleName(this._navigationForward, ls`forward`);\n    this._navigationReload = this._navigationBar.createChild('button', 'reload');\n    UI.ARIAUtils.setAccessibleName(this._navigationReload, ls`reload`);\n    this._navigationUrl = /** @type {!HTMLInputElement} */ (UI.UIUtils.createInput());\n    UI.ARIAUtils.setAccessibleName(this._navigationUrl, ls`Address bar`);\n    this._navigationBar.appendChild(this._navigationUrl);\n    this._navigationUrl.type = 'text';\n    this._navigationProgressBar = new ProgressTracker(\n        this._resourceTreeModel, this._networkManager,\n        /** @type {!HTMLElement} */ (this._navigationBar.createChild('div', 'progress')));\n\n    if (this._resourceTreeModel) {\n      this._navigationBack.addEventListener('click', this._navigateToHistoryEntry.bind(this, -1), false);\n      this._navigationForward.addEventListener('click', this._navigateToHistoryEntry.bind(this, 1), false);\n      this._navigationReload.addEventListener('click', this._navigateReload.bind(this), false);\n      this._navigationUrl.addEventListener('keyup', this._navigationUrlKeyUp.bind(this), true);\n      this._requestNavigationHistory();\n      this._resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.MainFrameNavigated, this._requestNavigationHistoryEvent, this);\n      this._resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.CachedResourcesLoaded, this._requestNavigationHistoryEvent, this);\n    }\n  }\n\n  /**\n   * @param {number} offset\n   */\n  _navigateToHistoryEntry(offset) {\n    if (!this._resourceTreeModel) {\n      return;\n    }\n    const newIndex = (this._historyIndex || 0) + offset;\n    if (!this._historyEntries || newIndex < 0 || newIndex >= this._historyEntries.length) {\n      return;\n    }\n    this._resourceTreeModel.navigateToHistoryEntry(this._historyEntries[newIndex]);\n    this._requestNavigationHistory();\n  }\n\n  _navigateReload() {\n    if (!this._resourceTreeModel) {\n      return;\n    }\n    this._resourceTreeModel.reloadPage();\n  }\n\n  /**\n   * @param {!Event} event\n   */\n  _navigationUrlKeyUp(/** @type {!KeyboardEvent} */ event) {\n    if (event.key !== 'Enter') {\n      return;\n    }\n    let url = this._navigationUrl.value;\n    if (!url) {\n      return;\n    }\n    if (!url.match(_SchemeRegex)) {\n      url = 'http://' + url;\n    }\n\n    // Perform decodeURI in case the user enters an encoded string\n    // decodeURI has no effect on strings that are already decoded\n    // encodeURI ensures an encoded URL is always passed to the backend\n    // This allows the input field to support both encoded and decoded URLs\n    if (this._resourceTreeModel) {\n      this._resourceTreeModel.navigate(encodeURI(decodeURI(url)));\n    }\n    this._canvasElement.focus();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _requestNavigationHistoryEvent(event) {\n    this._requestNavigationHistory();\n  }\n\n  async _requestNavigationHistory() {\n    const history = this._resourceTreeModel ? await this._resourceTreeModel.navigationHistory() : null;\n    if (!history) {\n      return;\n    }\n\n    this._historyIndex = history.currentIndex;\n    this._historyEntries = history.entries;\n\n    this._navigationBack.disabled = this._historyIndex === 0;\n    this._navigationForward.disabled = this._historyIndex === (this._historyEntries.length - 1);\n\n    let url = this._historyEntries[this._historyIndex].url;\n    const match = url.match(_HttpRegex);\n    if (match) {\n      url = match[1];\n    }\n    Host.InspectorFrontendHost.InspectorFrontendHostInstance.inspectedURLChanged(url);\n    this._navigationUrl.value = decodeURI(url);\n  }\n\n  _focusNavigationBar() {\n    this._navigationUrl.focus();\n    this._navigationUrl.select();\n    return true;\n  }\n}\n\nexport const _bordersSize = 44;\nexport const _navBarHeight = 29;\nexport const _HttpRegex = /^http:\\/\\/(.+)/;\nexport const _SchemeRegex = /^(https?|about|chrome):/;\n\nexport class ProgressTracker {\n  /**\n   * @param {?SDK.ResourceTreeModel.ResourceTreeModel} resourceTreeModel\n   * @param {?SDK.NetworkManager.NetworkManager} networkManager\n   * @param {!HTMLElement} element\n   */\n  constructor(resourceTreeModel, networkManager, element) {\n    this._element = element;\n    if (resourceTreeModel) {\n      resourceTreeModel.addEventListener(\n          SDK.ResourceTreeModel.Events.MainFrameNavigated, this._onMainFrameNavigated, this);\n      resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.Load, this._onLoad, this);\n    }\n    if (networkManager) {\n      networkManager.addEventListener(SDK.NetworkManager.Events.RequestStarted, this._onRequestStarted, this);\n      networkManager.addEventListener(SDK.NetworkManager.Events.RequestFinished, this._onRequestFinished, this);\n    }\n    /**\n     * @type {?Map<string, !SDK.NetworkRequest.NetworkRequest>}\n     */\n    this._requestIds = null;\n    this._startedRequests = 0;\n    this._finishedRequests = 0;\n    this._maxDisplayedProgress = 0;\n  }\n\n  _onMainFrameNavigated() {\n    this._requestIds = new Map();\n    this._startedRequests = 0;\n    this._finishedRequests = 0;\n    this._maxDisplayedProgress = 0;\n    this._updateProgress(0.1);  // Display first 10% on navigation start.\n  }\n\n  _onLoad() {\n    this._requestIds = null;\n    this._updateProgress(1);  // Display 100% progress on load, hide it in 0.5s.\n    setTimeout(() => {\n      if (!this._navigationProgressVisible()) {\n        this._displayProgress(0);\n      }\n    }, 500);\n  }\n\n  _navigationProgressVisible() {\n    return this._requestIds !== null;\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onRequestStarted(event) {\n    if (!this._navigationProgressVisible()) {\n      return;\n    }\n    const request = /** @type {!SDK.NetworkRequest.NetworkRequest} */ (event.data.request);\n    // Ignore long-living WebSockets for the sake of progress indicator, as we won't be waiting them anyway.\n    if (request.resourceType() === Common.ResourceType.resourceTypes.WebSocket) {\n      return;\n    }\n    if (this._requestIds) {\n      this._requestIds.set(request.requestId(), request);\n    }\n    ++this._startedRequests;\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _onRequestFinished(event) {\n    if (!this._navigationProgressVisible()) {\n      return;\n    }\n    const request = /** @type {!SDK.NetworkRequest.NetworkRequest} */ (event.data);\n    if (this._requestIds && !this._requestIds.has(request.requestId())) {\n      return;\n    }\n    ++this._finishedRequests;\n    setTimeout(() => {\n      this._updateProgress(\n          this._finishedRequests / this._startedRequests * 0.9);  // Finished requests drive the progress up to 90%.\n    }, 500);  // Delay to give the new requests time to start. This makes the progress smoother.\n  }\n\n  /**\n   * @param {number} progress\n   */\n  _updateProgress(progress) {\n    if (!this._navigationProgressVisible()) {\n      return;\n    }\n    if (this._maxDisplayedProgress >= progress) {\n      return;\n    }\n    this._maxDisplayedProgress = progress;\n    this._displayProgress(progress);\n  }\n\n  /**\n   * @param {number} progress\n   */\n  _displayProgress(progress) {\n    this._element.style.width = (100 * progress) + '%';\n  }\n}\n\n/**\n * @param {!SDK.DOMModel.DOMNode} node\n * @return {string}\n */\nfunction getAttributesForElementTitle(node) {\n  const id = node.getAttribute('id');\n  const className = node.getAttribute('class');\n\n  let selector = id ? '#' + id : '';\n  if (className) {\n    selector += '.' + className.trim().replace(/\\s+/g, '.');\n  }\n\n  if (selector.length > 50) {\n    selector = selector.substring(0, 50) + '…';\n  }\n\n  return selector;\n}\n"]}