{"version":3,"file":"WebAudioView.js","sourceRoot":"","sources":["../../../../../front_end/web_audio/WebAudioView.js"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../common/common.js';  // eslint-disable-line no-unused-vars\nimport * as i18n from '../i18n/i18n.js';\nimport * as SDK from '../sdk/sdk.js';  // eslint-disable-line no-unused-vars\nimport * as UI from '../ui/ui.js';\n\nimport {ContextDetailBuilder, ContextSummaryBuilder} from './AudioContextContentBuilder.js';\nimport {AudioContextSelector, Events as SelectorEvents} from './AudioContextSelector.js';\nimport {GraphManager} from './graph_visualizer/GraphManager.js';\nimport {Events as ModelEvents, WebAudioModel} from './WebAudioModel.js';\n\nexport const UIStrings = {\n  /**\n  *@description Text in Web Audio View\n  */\n  openAPageThatUsesWebAudioApiTo: 'Open a page that uses Web Audio API to start monitoring.',\n};\nconst str_ = i18n.i18n.registerUIStrings('web_audio/WebAudioView.js', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\n/**\n * @implements {SDK.SDKModel.SDKModelObserver<!WebAudioModel>}\n */\nexport class WebAudioView extends UI.ThrottledWidget.ThrottledWidget {\n  constructor() {\n    super(true, 1000);\n    this.element.classList.add('web-audio-drawer');\n    this.registerRequiredCSS('web_audio/webAudio.css', {enableLegacyPatching: false});\n\n    // Creates the toolbar.\n    const toolbarContainer = this.contentElement.createChild('div', 'web-audio-toolbar-container vbox');\n    this._contextSelector = new AudioContextSelector();\n    const toolbar = new UI.Toolbar.Toolbar('web-audio-toolbar', toolbarContainer);\n    toolbar.appendToolbarItem(UI.Toolbar.Toolbar.createActionButtonForId('components.collect-garbage'));\n    toolbar.appendSeparator();\n    toolbar.appendToolbarItem(this._contextSelector.toolbarItem());\n\n    // Create content container\n    this._contentContainer = this.contentElement.createChild('div', 'web-audio-content-container vbox flex-auto');\n\n    // Creates the detail view.\n    this._detailViewContainer = this._contentContainer.createChild('div', 'web-audio-details-container vbox flex-auto');\n\n    this._graphManager = new GraphManager();\n\n    // Creates the landing page.\n    this._landingPage = new UI.Widget.VBox();\n    this._landingPage.contentElement.classList.add('web-audio-landing-page', 'fill');\n    this._landingPage.contentElement.appendChild(UI.Fragment.html`\n      <div>\n        <p>${i18nString(UIStrings.openAPageThatUsesWebAudioApiTo)}</p>\n      </div>\n    `);\n    this._landingPage.show(this._detailViewContainer);\n\n    // Creates the summary bar.\n    this._summaryBarContainer = this._contentContainer.createChild('div', 'web-audio-summary-container');\n\n    this._contextSelector.addEventListener(SelectorEvents.ContextSelected, event => {\n      const context =\n          /** @type {!Protocol.WebAudio.BaseAudioContext} */ (event.data);\n      this._updateDetailView(context);\n      this.doUpdate();\n    });\n\n    SDK.SDKModel.TargetManager.instance().observeModels(WebAudioModel, this);\n  }\n\n  /**\n   * @override\n   */\n  wasShown() {\n    super.wasShown();\n    for (const model of SDK.SDKModel.TargetManager.instance().models(WebAudioModel)) {\n      this._addEventListeners(model);\n    }\n  }\n\n  /**\n   * @override\n   */\n  willHide() {\n    for (const model of SDK.SDKModel.TargetManager.instance().models(WebAudioModel)) {\n      this._removeEventListeners(model);\n    }\n  }\n\n  /**\n   * @override\n   * @param {!WebAudioModel} webAudioModel\n   */\n  modelAdded(webAudioModel) {\n    if (this.isShowing()) {\n      this._addEventListeners(webAudioModel);\n    }\n  }\n\n  /**\n   * @override\n   * @param {!WebAudioModel} webAudioModel\n   */\n  modelRemoved(webAudioModel) {\n    this._removeEventListeners(webAudioModel);\n  }\n\n  /**\n   * @override\n   * @return {!Promise<?>}\n   */\n  async doUpdate() {\n    await this._pollRealtimeData();\n    this.update();\n  }\n\n  /**\n   * @param {!WebAudioModel} webAudioModel\n   */\n  _addEventListeners(webAudioModel) {\n    webAudioModel.ensureEnabled();\n    webAudioModel.addEventListener(ModelEvents.ContextCreated, this._contextCreated, this);\n    webAudioModel.addEventListener(ModelEvents.ContextDestroyed, this._contextDestroyed, this);\n    webAudioModel.addEventListener(ModelEvents.ContextChanged, this._contextChanged, this);\n    webAudioModel.addEventListener(ModelEvents.ModelReset, this._reset, this);\n    webAudioModel.addEventListener(ModelEvents.ModelSuspend, this._suspendModel, this);\n    webAudioModel.addEventListener(ModelEvents.AudioListenerCreated, this._audioListenerCreated, this);\n    webAudioModel.addEventListener(ModelEvents.AudioListenerWillBeDestroyed, this._audioListenerWillBeDestroyed, this);\n    webAudioModel.addEventListener(ModelEvents.AudioNodeCreated, this._audioNodeCreated, this);\n    webAudioModel.addEventListener(ModelEvents.AudioNodeWillBeDestroyed, this._audioNodeWillBeDestroyed, this);\n    webAudioModel.addEventListener(ModelEvents.AudioParamCreated, this._audioParamCreated, this);\n    webAudioModel.addEventListener(ModelEvents.AudioParamWillBeDestroyed, this._audioParamWillBeDestroyed, this);\n    webAudioModel.addEventListener(ModelEvents.NodesConnected, this._nodesConnected, this);\n    webAudioModel.addEventListener(ModelEvents.NodesDisconnected, this._nodesDisconnected, this);\n    webAudioModel.addEventListener(ModelEvents.NodeParamConnected, this._nodeParamConnected, this);\n    webAudioModel.addEventListener(ModelEvents.NodeParamDisconnected, this._nodeParamDisconnected, this);\n  }\n\n  /**\n   * @param {!WebAudioModel} webAudioModel\n   */\n  _removeEventListeners(webAudioModel) {\n    webAudioModel.removeEventListener(ModelEvents.ContextCreated, this._contextCreated, this);\n    webAudioModel.removeEventListener(ModelEvents.ContextDestroyed, this._contextDestroyed, this);\n    webAudioModel.removeEventListener(ModelEvents.ContextChanged, this._contextChanged, this);\n    webAudioModel.removeEventListener(ModelEvents.ModelReset, this._reset, this);\n    webAudioModel.removeEventListener(ModelEvents.ModelSuspend, this._suspendModel, this);\n    webAudioModel.removeEventListener(ModelEvents.AudioListenerCreated, this._audioListenerCreated, this);\n    webAudioModel.removeEventListener(\n        ModelEvents.AudioListenerWillBeDestroyed, this._audioListenerWillBeDestroyed, this);\n    webAudioModel.removeEventListener(ModelEvents.AudioNodeCreated, this._audioNodeCreated, this);\n    webAudioModel.removeEventListener(ModelEvents.AudioNodeWillBeDestroyed, this._audioNodeWillBeDestroyed, this);\n    webAudioModel.removeEventListener(ModelEvents.AudioParamCreated, this._audioParamCreated, this);\n    webAudioModel.removeEventListener(ModelEvents.AudioParamWillBeDestroyed, this._audioParamWillBeDestroyed, this);\n    webAudioModel.removeEventListener(ModelEvents.NodesConnected, this._nodesConnected, this);\n    webAudioModel.removeEventListener(ModelEvents.NodesDisconnected, this._nodesDisconnected, this);\n    webAudioModel.removeEventListener(ModelEvents.NodeParamConnected, this._nodeParamConnected, this);\n    webAudioModel.removeEventListener(ModelEvents.NodeParamDisconnected, this._nodeParamDisconnected, this);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _contextCreated(event) {\n    const context = /** @type {!Protocol.WebAudio.BaseAudioContext} */ (event.data);\n    this._graphManager.createContext(context.contextId);\n    this._contextSelector.contextCreated(event);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _contextDestroyed(event) {\n    const contextId = /** @type {!Protocol.WebAudio.GraphObjectId} */ (event.data);\n    this._graphManager.destroyContext(contextId);\n    this._contextSelector.contextDestroyed(event);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _contextChanged(event) {\n    const context = /** @type {!Protocol.WebAudio.BaseAudioContext} */ (event.data);\n    if (!this._graphManager.hasContext(context.contextId)) {\n      return;\n    }\n\n    this._contextSelector.contextChanged(event);\n  }\n\n  _reset() {\n    if (this._landingPage.isShowing()) {\n      this._landingPage.detach();\n    }\n    this._contextSelector.reset();\n    this._detailViewContainer.removeChildren();\n    this._landingPage.show(this._detailViewContainer);\n    this._graphManager.clearGraphs();\n  }\n\n  _suspendModel() {\n    this._graphManager.clearGraphs();\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioListenerCreated(event) {\n    const listener = /** @type {!Protocol.WebAudio.AudioListener} */ (event.data);\n    const graph = this._graphManager.getGraph(listener.contextId);\n    if (!graph) {\n      return;\n    }\n    graph.addNode({\n      nodeId: listener.listenerId,\n      nodeType: 'Listener',\n      numberOfInputs: 0,\n      numberOfOutputs: 0,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioListenerWillBeDestroyed(event) {\n    const {contextId, listenerId} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    graph.removeNode(listenerId);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioNodeCreated(event) {\n    const node = /** @type {!Protocol.WebAudio.AudioNode} */ (event.data);\n    const graph = this._graphManager.getGraph(node.contextId);\n    if (!graph) {\n      return;\n    }\n    graph.addNode({\n      nodeId: node.nodeId,\n      nodeType: node.nodeType,\n      numberOfInputs: node.numberOfInputs,\n      numberOfOutputs: node.numberOfOutputs,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioNodeWillBeDestroyed(event) {\n    const {contextId, nodeId} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    graph.removeNode(nodeId);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioParamCreated(event) {\n    const param = /** @type {!Protocol.WebAudio.AudioParam} */ (event.data);\n    const graph = this._graphManager.getGraph(param.contextId);\n    if (!graph) {\n      return;\n    }\n    graph.addParam({\n      paramId: param.paramId,\n      paramType: param.paramType,\n      nodeId: param.nodeId,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _audioParamWillBeDestroyed(event) {\n    const {contextId, paramId} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    graph.removeParam(paramId);\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _nodesConnected(event) {\n    const {contextId, sourceId, destinationId, sourceOutputIndex, destinationInputIndex} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    graph.addNodeToNodeConnection({\n      sourceId,\n      destinationId,\n      sourceOutputIndex,\n      destinationInputIndex,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _nodesDisconnected(event) {\n    const {contextId, sourceId, destinationId, sourceOutputIndex, destinationInputIndex} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    graph.removeNodeToNodeConnection({\n      sourceId,\n      destinationId,\n      sourceOutputIndex,\n      destinationInputIndex,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _nodeParamConnected(event) {\n    const {contextId, sourceId, destinationId, sourceOutputIndex} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    // Since the destinationId is AudioParamId, we need to find the nodeId as the\n    // real destinationId.\n    const nodeId = graph.getNodeIdByParamId(destinationId);\n    if (!nodeId) {\n      return;\n    }\n    graph.addNodeToParamConnection({\n      sourceId,\n      destinationId: nodeId,\n      sourceOutputIndex,\n      destinationParamId: destinationId,\n    });\n  }\n\n  /**\n   * @param {!Common.EventTarget.EventTargetEvent} event\n   */\n  _nodeParamDisconnected(event) {\n    const {contextId, sourceId, destinationId, sourceOutputIndex} = event.data;\n    const graph = this._graphManager.getGraph(contextId);\n    if (!graph) {\n      return;\n    }\n    // Since the destinationId is AudioParamId, we need to find the nodeId as the\n    // real destinationId.\n    const nodeId = graph.getNodeIdByParamId(destinationId);\n    if (!nodeId) {\n      return;\n    }\n    graph.removeNodeToParamConnection({\n      sourceId,\n      destinationId: nodeId,\n      sourceOutputIndex,\n      destinationParamId: destinationId,\n    });\n  }\n\n  /**\n   * @param {!Protocol.WebAudio.BaseAudioContext} context\n   */\n  _updateDetailView(context) {\n    if (this._landingPage.isShowing()) {\n      this._landingPage.detach();\n    }\n    const detailBuilder = new ContextDetailBuilder(context);\n    this._detailViewContainer.removeChildren();\n    this._detailViewContainer.appendChild(detailBuilder.getFragment());\n  }\n\n  /**\n   * @param {!Protocol.WebAudio.GraphObjectId} contextId\n   * @param {!Protocol.WebAudio.ContextRealtimeData} contextRealtimeData\n   */\n  _updateSummaryBar(contextId, contextRealtimeData) {\n    const summaryBuilder = new ContextSummaryBuilder(contextId, contextRealtimeData);\n    this._summaryBarContainer.removeChildren();\n    this._summaryBarContainer.appendChild(summaryBuilder.getFragment());\n  }\n\n  _clearSummaryBar() {\n    this._summaryBarContainer.removeChildren();\n  }\n\n  async _pollRealtimeData() {\n    const context = this._contextSelector.selectedContext();\n    if (!context) {\n      this._clearSummaryBar();\n      return;\n    }\n\n    for (const model of SDK.SDKModel.TargetManager.instance().models(WebAudioModel)) {\n      // Display summary only for real-time context.\n      if (context.contextType === 'realtime') {\n        if (!this._graphManager.hasContext(context.contextId)) {\n          continue;\n        }\n        const realtimeData = await model.requestRealtimeData(context.contextId);\n        if (realtimeData) {\n          this._updateSummaryBar(context.contextId, realtimeData);\n        }\n      } else {\n        this._clearSummaryBar();\n      }\n    }\n  }\n}\n"]}